# simple e-commerce api with Node.js + Express + PostgreSQL

## Project structure 
```
simple-ecommerce/
├── src/
│   ├── server.js
│   ├── db.js
│   ├── routes/
│   │   ├── product.routes.js
│   │   └── order.routes.js
│   └── controllers/
│       ├── product.controller.js
│       └── order.controller.js
├── sql/
│   └── schema.sql
├── .env
└── package.json
```
## Current (Correct for now)

```
routes → controllers → db
```

## Installation and setup instructions:

1. Clone the repository
2. Navigate to the project directory: `cd simple-ecommerce`
3. Install dependencies: `npm install`
4. Create a `.env` file in the root of your project and add the following environment variables:
```bash
DB_HOST=your_database_host
DB_PORT=your_database_port
DB_USER=your_database_user
DB_PASSWORD=your_database_password
DB_NAME=your_database_name
```
5. Run the SQL script to create the necessary tables in your PostgreSQL database.
6. Start the server: `npm start`
7. The API will be accessible at http://localhost:5000.


## sql/schema.sql

### Explanation

* products → what you sell

* orders → one order per checkout

* order_items → many products per order
 
* This is a 1-to-many relationship
 
### src/db.js

### Explanation
 
* Pool = connection pool (very important)
 
* Express does NOT connect to DB directly
 
* All queries go through pool
 
* Prisma internally does this same thing
 
### src/controllers/product.controller.js

### Explanation

* $1, $2, $3 → prevents SQL injection
 
* RETURNING * → PostgreSQL feature
 
* response.rows → actual data
 
* This is raw SQL, no ORM magic
 
## src/controllers/order.controller.js
 
### Explanation
 
* client = await pool.connect() → single DB connection
 
* BEGIN / COMMIT / ROLLBACK → transaction
 
* Ensures:
 
* No partial orders
 
* Stock is accurate
 
* This is REAL backend logic, not beginner stuff
 
## src/routes/product.routes.js
### Explanation
 
* Routes decide URL + HTTP method
 
* Logic is NOT here
 
* Routes call controllers
 
## src/routes/order.routes.js
### Explanation
 
* Only one endpoint for now
 
* POST /orders → create order

## src/server.js
### Explanation

* express.json() → reads JSON request bodies

* /products → product routes
 
* /orders → order routes
 
* This file only starts the server
 
* No business logic here (important habit)


in my openion this project is very good for beginners to understand how things work under the hood.
but its difficult to understand where we are going 
no type-safe or any other modern features like that.
no intelli-sense support
and also when i was try to test the api for post method first i find its difficult to connect with the database because there is no migration tool so i have to manually run the sql script to create the table.
so if you want to use this project then please follow the steps carefully.
and for ubuntu its gonna diffucut to set up the database